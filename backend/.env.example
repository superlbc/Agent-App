# ==============================================================================
# Note Crafter Backend - Environment Variables Template
# ==============================================================================
#
# Copy this file to .env for local development
# For Cloud Run deployment, set these in Cloud Run environment variables
#
# ==============================================================================

# Port for the backend server (Cloud Run uses 8080 by default)
PORT=8080

# API Base URL - Interact.interpublic.com endpoint
API_BASE_URL=https://interact.interpublic.com

# API Credentials - Required for authentication with interact.interpublic.com
# IMPORTANT: These should be set in Cloud Run environment variables or Secret Manager
CLIENT_ID=YourClientID
CLIENT_SECRET=YourClientSecret

# ==============================================================================
# Momentum Knowledge Base Chatbot - Copilot Studio Integration
# ==============================================================================
#
# Required for the Knowledge Base Chatbot to communicate with Copilot Studio
# via Direct Line API (Bot Framework)
#
# To get this secret:
# 1. Go to your Copilot Studio agent settings
# 2. Navigate to "Channels" â†’ "Direct Line"
# 3. Copy one of the secret keys
#
# Learn more: https://learn.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-direct-line-3-0-authentication
#
COPILOT_DIRECT_LINE_SECRET=YOUR_COPILOT_DIRECT_LINE_SECRET_HERE

# ==============================================================================
# Personnel Lookup - Power Automate Flow URL
# ==============================================================================
#
# Power Automate flow that queries Momentum personnel database by email
# This endpoint returns department, role, and organizational data for users
#
# Expected Power Automate flow:
# - Trigger: HTTP Request (POST)
# - Request body: { "action": "lookupByEmail", "email": "user@momentumww.com" }
# - Response: { "success": true, "user": { ...MomentumUserData } }
#
# This is optional - if not configured, frontend will fall back to:
# - departmentMap from departmentService.ts (24h cache)
# - Graph API user profile data
#
PERSONNEL_LOOKUP_FLOW_URL=https://prod-XX.eastus.logic.azure.com:443/workflows/.../triggers/manual/paths/invoke?api-version=...&sp=...&sv=...&sig=...

# ==============================================================================
# Notes:
# ==============================================================================
#
# 1. For local development:
#    - Copy this file to .env
#    - Fill in your actual CLIENT_ID and CLIENT_SECRET
#    - Fill in COPILOT_DIRECT_LINE_SECRET from Copilot Studio
#    - (Optional) Fill in PERSONNEL_LOOKUP_FLOW_URL for personnel lookup
#    - Run: npm install && npm start
#
# 2. For Cloud Run deployment:
#    - Set all variables in Cloud Run environment variables
#    - OR use Google Secret Manager for secrets (more secure)
#    - Nick can help set up Secret Manager if needed
#
# 3. Security:
#    - NEVER commit .env file to git (it's in .gitignore)
#    - CLIENT_SECRET should never be exposed to the frontend
#    - COPILOT_DIRECT_LINE_SECRET should never be exposed to the frontend
#    - Consider using Secret Manager for production
#
# 4. Copilot Studio Endpoints:
#    - POST /api/copilot/conversations - Create new conversation
#    - POST /api/copilot/messages - Send message with department context
#    - GET /api/copilot/activities/:conversationId - Poll for bot responses
#
# 5. Personnel Lookup Endpoint:
#    - GET /api/personnel/lookup?email=... - Look up user by email
#
# ==============================================================================
